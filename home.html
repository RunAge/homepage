<!DOCTYPE html>
<!--    Copyright 2014 gokoururi
        This work is free. You can redistribute it and/or modify it under the
        terms of the Do What The Fuck You Want To Public License, Version 2,
        as published by Sam Hocevar. See the COPYING file for more details. -->
<html>
    <head>
        <title>Welcome Home</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta charset="utf-8">
        <link rel="icon" href="images/ruri.ico" sizes="16x16 32x32 48x48 64x64" type="image/vnd.microsoft.icon" />

        <link rel="stylesheet" style="text/css" href="general.css" />

        <!-- 3rd party libraries. -->
        <script type="text/javascript" src="js/mustache.js-0.8.1/mustache.js"></script>
        <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>

        <!-- Page scripts. -->
        <script type="text/javascript" src="config.js"></script>
        <script type="text/javascript" src="js/scripts.js"></script>

        <!-- TODO Check whether using that x-tmpl-mustache "custom MIME" is sane. -->
        <!-- TODO Maybe just put those in places where they should be instantiated and substitute their parent's .html() instead of using data- attribute? -->

        <!-- Searchboxes template. -->
        <script type="x-tmpl-mustache" data-target-selector=".searchContainer">
        {{#searchboxes}}
            <form class="searchForm" method="get" action="{{url}}">
                <input class="searchBar search_{{class}}" type="text" name="{{parameter}}" placeholder="{{name}}"{{#autofocus}} autofocus="autofocus"{{/autofocus}} search_/>
            </form>
        {{/searchboxes}}
        </script>

        <!-- Buttons template. -->
        <script type="x-tmpl-mustache" data-target-selector=".buttonList">
        {{#buttons}}
            <li class="button button_{{color}}{{#arrow}} buttonArrow{{!TODO change CSS to react for children ul or make mustache to cast list to bool for not repeating the class}}{{/arrow}}">
                <a href="{{url}}">{{name}}</a>
            {{#arrow}}
                <ul>
                    {{#sublinks}}
                    <li><a href="{{url}}">{{name}}</a></li>
                    {{/sublinks}}
                </ul>
            {{/arrow}}
            </li>
        {{/buttons}}
        </script>

        <!-- Columns template. -->
        <script type="x-tmpl-mustache" data-target-selector=".columnList">
        {{#columns}}
            <li class="column column_{{color}}">
                <a>{{name}}</a>
                <ul>
                {{#items}}
                    <li><a href="{{url}}">{{name}}</a></li>
                {{/items}}
                </ul>
            </li>
        {{/columns}}
        </script>
    </head>
    <body>
        <main> <!-- Random mascot image will be set as background-image by javascript -->
            <header>
                <h1>Welcome to the Internet, <span class="highlite">Goshujin-sama</span></h1>
                <p class="subtitle">Its not like I like you or anything</p>
            </header>
            <section class="searchContainer">
                <!-- Here go templated searchboxes. -->
            </section>
            <nav>
                <ul class="buttonList">
                    <!-- Here go templated buttons. -->
                </ul>
                <ul class="columnList">
                    <!-- Here go templated columns. -->
                </ul>
            </nav>
        </main>
    </body>
</html>

