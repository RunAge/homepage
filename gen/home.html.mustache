<!DOCTYPE html>
<!--    Copyright 2014 gokoururi
        This work is free. You can redistribute it and/or modify it under the
        terms of the Do What The Fuck You Want To Public License, Version 2,
        as published by Sam Hocevar. See the COPYING file for more details. -->
<html>
    <head>
        <meta charset="utf-8">
        <title>{{title}}</title>

        <link rel="stylesheet" style="text/css" href="general.css" />

        <!-- To change theme, replace its name in following 4 lines  -->
        <link rel="icon"                           href="themes/{{theme}}/favicon.ico" sizes="16x16 32x32 48x48 64x64" type="image/vnd.microsoft.icon" />
        <link rel="stylesheet" style="text/css"    href="themes/{{theme}}/colors.css" />
        <script type="text/javascript">var mascotPath = "themes/{{theme}}/images/mascots/";</script>
        <script type="text/javascript"              src="themes/{{theme}}/mascots.js"></script>

        <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="js/mascots-control.js"></script>
    </head>
    <body>
        <main> <!-- Random mascot image will be set as background-image by javascript -->
            <header>
                <h1>{{header}}<span class="name-highlight">{{name}}</span></h1>
                <p class="subtitle">{{subtitle}}</p>
            </header>
        {{#links}}
            <section class="searchContainer">
            {{#searchboxes}}
                <form class="searchForm" method="get" action="{{url}}">
                    <input type="text" class="searchBar"
                        style       = "background-image: url('themes/{{theme}}/images/icons/{{icon}}')"
                        name        = "{{parameter}}"
                        placeholder = "{{name}}"
                        {{#autofocus}}autofocus="autofocus"{{/autofocus}}
                    />
                </form>
            {{/searchboxes}}
            </section>
            <nav>
                <ul class="buttonList">
                {{#buttons}}
                    <li class="button button_{{color}} {{#has_sublinks}}buttonArrow{{!TODO change CSS to react for children ul or make mustache to cast list to bool for not repeating the class}}{{/has_sublinks}}">
                        <a href="{{url}}">{{name}}</a>
                    {{#has_sublinks}}
                        <ul>
                            {{#sublinks}}
                            <li><a href="{{url}}">{{name}}</a></li>
                            {{/sublinks}}
                        </ul>
                    {{/has_sublinks}}
                    </li>
                {{/buttons}}
                </ul>
                <ul class="columnList">
                {{#columns}}
                    <li class="column column_{{color}}">
                        <a>{{name}}</a>
                        <ul>
                        {{#items}}
                            <li><a href="{{url}}">{{name}}</a></li>
                        {{/items}}
                        </ul>
                    </li>
                {{/columns}}
                </ul>
            </nav>
        {{/links}}
        </main>
    </body>
</html>
